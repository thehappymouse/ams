<script>
Ext.onReady(function(){
    /*三个动态框*/
    var teamCombox = new SettCombbox({
        url:'/ams/Info/TeamList',
        fieldLabel: '管理班组',
        anchor:'95%',
        id:'team',
        hiddenName:'Team',
        autoLoad:true
    });

    var infoSearch = new Ext.FormPanel({
        title: '查询条件',
        defaults:{
            border: false
        },
        labelAlign: 'right',
        style: 'padding-top:10px',
        url:'/ams/Charges/SearchFee',
        layout:'column',
        items: [{
            columnWidth:.25,
            layout: 'form',
            defaults:{
                xtype: 'textfield'
            },
            items: [
                teamCombox]
        },{
            columnWidth:.25,
            layout: 'form',
            defaults:{
                xtype: 'textfield'
            },
            items: [
                {
                    xtype: 'compositefield',
                    fieldLabel: '电费年月',
                    defaults:{
                        xtype: 'datefield'
                    },
                    items:[
                        new Ext.form.DateField({
                            renderTo: document.body,
                            plugins:'monthPickerPlugin',
                            name:'FromData',
                            value:new Date().format('Ym')-4,
                            width:82,
                            format: 'Ym'
                        }),{
                            xtype: 'displayfield',
                            value: '至: '
                        },new Ext.form.DateField({
                            renderTo: document.body,
                            plugins:'monthPickerPlugin',
                            name:'ToData',
                            width:82,
                            value:new Date().format('Ym'),
                            format: 'Ym'
                        })]
                }
            ]
        },{
            columnWidth:.25,
            layout: 'form',
            items:[{
                width:100,
                xtype:'button',
                text:'查询',
                handler:function(){
                }
            }]
        }]
    });
    var searchPanel = new Ext.TabPanel({
        labelWidth: 85,
        activeTab: 0,
        height:70,
        plain:true,
        defaults:{autoScroll: true},
        items:[
            infoSearch
        ]
    });

    var products = ['ProductX', 'ProductY'],
    fields = [],
    columns = [],
    data = [],
    continentGroupRow = [
        {header: 'Asia', colspan: 4, align: 'center'},
        {header: 'Europe', colspan: 6, align: 'center'}
    ],
    cityGroupRow = [
                  {header: 'Beijing', colspan: 2, align: 'center'},
                  {header: 'Tokyo', colspan: 2, align: 'center'},
                  {header: 'Berlin', colspan: 2, align: 'center'},
                  {header: 'London', colspan: 2, align: 'center'},
                  {header: 'Paris', colspan: 2, align: 'center'}
    ];

    var group = new Ext.ux.grid.ColumnHeaderGroup({
        rows: [continentGroupRow, cityGroupRow]
    });
    var store = new Ext.data.ArrayStore({
                fields: [{type: 'int', name: 'BeijingProductX'},
                    {type: 'int', name: 'BeijingProductY'},
                    {type: 'int', name: 'TokyoProductX'},
                    {type: 'int', name: 'TokyoProductY'},
                    {type: 'int', name: 'BerlinProductX'},
                    {type: 'int', name: 'BerlinProductY'},
                    {type: 'int', name: 'LondonProductX'},
                    {type: 'int', name: 'LondonProductY'},
                    {type: 'int', name: 'ParisProductX'},
                    {type: 'int', name: 'ParisProductY'}
                ],
                data: data
            });
    var columns= [
        {dataIndex: 'BeijingProductX', header: 'ProductX'},
        {dataIndex: 'BeijingProductY', header: 'ProductY'},
        {dataIndex: 'TokyoProductX', header: 'ProductX'},
        {dataIndex: 'TokyoProductY', header: 'ProductY'},
        {dataIndex: 'BerlinProductX', header: 'ProductX'},
        {dataIndex: 'BerlinProductY', header: 'ProductY'},
        {dataIndex: 'LondonProductX', header: 'ProductX'},
        {dataIndex: 'LondonProductY', header: 'ProductY'},
        {dataIndex: 'ParisProductX', header: 'ProductX'},
        {dataIndex: 'ParisProductY', header: 'ProductY'}
    ];
    var grid = new Ext.grid.GridPanel({
        viewConfig: {forceFit:true},
        title: 'Sales By Location',
        store:store,
        columns: columns,
        plugins: group
    });

    var infoTab = new Ext.TabPanel({
        labelWidth: 85,
        activeTab: 0,
        height:70,
        plain:true,
        style: 'margin-top:15px',
        defaults:{autoScroll: true},
        items:[
            grid
        ]
    });
    var allPanel = new Ext.Panel({
        region: 'center',
        fileUpload: true,
        autoScroll: true,
        bodyStyle: "padding:20px;",
        items: [
            searchPanel,
            infoTab
        ]
    });
    new Ext.Viewport(
            {
                layout: 'border',
                items: [
                    allPanel
                ]
            });
})
 </script>